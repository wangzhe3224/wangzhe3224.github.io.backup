---
layout: post
title: 并发,并行编程
date: 2016-09-30 16:00
categories: python
tags:
---

# 概念

区别一下并发(Concurrent)和并行(Parallel)的区别:

最通俗的解释: 并发和并行其实在用户角度看来,都是"同时"运行多个本地应用(函数).
但是,

**并发**: 是在多个线程或者进程中快速切换执行,即单从某一个时间点看,CPU只能执行
一个线程或进程.

**并行**: 是CPU在多个线程或进程中同时执行指令,即单从一个时间点看,CPU在同时执
行多个指令.

所以明确一下:

>
并发或者并行编程既可以通过线程也可以通过进程完成

明确一下线程(thread)和进程(process)的概念:

**进程**: 进程是操作系统为程序虚拟出来的独立的处理资源和内存资源

**线程**: 线程是进程中可派遣的工作单元集合,多个线程存在于进程之中,共享这个
进程的计算资源和内存

还要在明确两个概念,

**同步**和**异步**: 同步是顺序执行,前一步完成,才可以执行下一步；
异步是步骤之间不存在依存关系,同步执行.


# Python的多线程,多进程

首先要明确Python全局解释锁的概念(GIL).Python 代码执行由 Python 虚拟机
(又名解释器主循环) 进行控制。Python 在设计时是这样考虑的，在主循环中同
时只能有一个控制线程在执行。对 Python 虚拟机的访问由全局解释器(GIL) 控制，
当有多个线程时保证同一时刻只能有一个线程在运行。

这就导致了Python的多线程不能利用多个CPU核心,所有线程都被控制在一个进程中.

如果是无阻塞的CPU密集程序,应采用多进程代替多线程以充分利用多核CPU性能.


